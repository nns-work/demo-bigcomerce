{"version":3,"file":"theme-bundle.chunk.11.js","mappings":"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","sources":["webpack://second-skin-audio/./assets/js/theme/ysw/home.js","webpack://second-skin-audio/./assets/js/theme/ysw/components/tabs-content.js","webpack://second-skin-audio/./assets/js/theme/home.js","webpack://second-skin-audio/./assets/js/theme/ysw/components/product-set.js"],"sourcesContent":["import YSWTabsContent from './components/tabs-content';\nimport YSWProductSetFactory from './components/product-set';\n\nclass YSWHome {\n    constructor(context) {\n        this.context = context;\n        this.isMobileFeatureCarouselInitialized = false;\n        this.init();\n    }\n\n    init() {\n        YSWProductSetFactory();\n        YSWTabsContent();\n    }\n}\n\nexport default function YSWHomeFactory(context) {\n    if (this instanceof YSWHome) {\n        this.context = context;\n    } else {\n        return new YSWHome(context);\n    }\n}\n","export default function YSWTabsContent() {\n    const tabContents = document.querySelectorAll('[data-tabs-content=\"true\"]');\n\n    tabContents.forEach(tabContent => {\n        const tabs = tabContent.querySelectorAll('[data-tab-title]');\n        const contents = tabContent.querySelectorAll('[data-tab-content]');\n\n        tabs.forEach(t => t.classList.remove('ysw-is-active'));\n        contents.forEach(content => content.classList.remove('ysw-is-active'));\n\n        document.querySelectorAll(`[data-tab-title=\"${tabs[0].dataset.tabTitle}\"]`).forEach(t => {\n            t.classList.add('ysw-is-active');\n        });\n\n        contents[tabs[0].dataset.tabTitle].classList.add('ysw-is-active');\n\n        tabs.forEach((tab) => {\n            tab.addEventListener('click', e => {\n                let band = false;\n\n                tabs.forEach(t => {\n                    if (t === e.currentTarget && t.classList.contains('ysw-is-active') && !tabContent.dataset.tabAlways && window.innerWidth < 1024) band = true;\n\n                    t.classList.remove('ysw-is-active');\n                });\n\n                contents.forEach(content => content.classList.remove('ysw-is-active'));\n\n                if (!band) {\n                    tabContent.querySelectorAll(`[data-tab-title=\"${e.currentTarget.dataset.tabTitle}\"]`).forEach(t => t.classList.add('ysw-is-active'));\n                    contents[e.currentTarget.dataset.tabTitle].classList.add('ysw-is-active');\n                }\n            });\n        });\n    });\n}\n","import PageManager from './page-manager';\nimport YSWHomeFactory from './ysw/home';\n\nexport default class Home extends PageManager {\n    onReady() {\n        YSWHomeFactory(this.context);\n    }\n}\n","class YSWProductSet {\n    constructor(context) {\n        this.context = context;\n        this.products = document.querySelectorAll('[data-product-set=\"true\"] [data-product-id]');\n\n        this.init();\n    }\n\n    init() {\n        if (!this.products.length) return;\n\n        this.getProducts();\n    }\n\n    getProducts() {\n        const graphqlToken = window.theme_settings.sf_tk;\n\n        fetch('/graphql', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${graphqlToken}`,\n            },\n            body: JSON.stringify({\n                query: this.getGraphqlData(),\n            }),\n        })\n            .then(res => res.json())\n            .then(res => {\n                const data = res.data.site;\n                const products = [];\n\n                if (typeof data !== 'undefined') {\n                    Object.values(data).forEach((item) => {\n                        item.edges.forEach((element) => {\n                            products.push(element.node);\n                        });\n                    });\n                }\n\n                if (!products.length) return;\n\n                products.forEach(index => this.cardRender(index));\n            })\n            // eslint-disable-next-line\n            .catch(err => {\n                throw new Error(err);\n            });\n    }\n\n    getIds(content) {\n        const ids = [];\n\n        content.querySelectorAll('[data-product-id]').forEach(item => {\n            ids.push(Number(item.dataset.productId));\n        });\n\n        return ids;\n    }\n\n    cardRender(item) {\n        const product = {\n            id: item.entityId,\n            name: item.name,\n            url: item.path,\n            sku: item.sku,\n            priceOur: item.prices.price.value,\n            priceList: item.prices.basePrice.value,\n        };\n\n        if (product.length === 0) return;\n\n        const cards = document.querySelectorAll(`[data-product-id=\"${product.id}\"]`);\n\n        if (!cards) return;\n\n        Array.from(cards).forEach(card => {\n            if (card.classList.contains('ysw-loaded')) return null;\n\n            const title = card.querySelector('[data-product-title]') || { dataset: { productTitle: '' }, textContent: '' };\n            const price = card.querySelector('[data-product-price]') || { dataset: { price: 0 }, innerHTML: '' };\n            const urls = card.querySelectorAll('[data-product-url]') || { dataset: { productUrl: '' }, href: '' };\n\n            title.dataset.productName = product.name;\n            title.innerHTML = product.name;\n            price.dataset.productPrice = `$${product.priceOur}`;\n            price.innerHTML = `$${product.priceOur}`;\n            urls.forEach(url => {\n                url.href = product.url;\n            });\n\n            card.classList.add('ysw-loaded');\n        });\n    }\n\n    getGraphqlData() {\n        const data = Array.from(this.products).map(item => Number(item.dataset.productId));\n        const ids = data.filter((item, index) => data.indexOf(item) === index);\n        const range = (Math.ceil(ids.length / 10));\n        let queries = '';\n\n        for (let i = 0; i < range; i++) {\n            const idRange = ids.slice(i * 10, (i + 1) * 10);\n\n            queries += `product_list_${i}:products(entityIds: [${idRange}]) { edges { node {...ProductFields } } }`;\n        }\n\n        const products = `\n            query ProductsQuery {\n                site {${queries}}\n            }\n\n            fragment ProductFields on Product {\n                entityId\n                name\n                path\n                prices {\n                    basePrice {\n                        ...MoneyFields\n                    }\n                    price {\n                        ...MoneyFields\n                    }\n                }\n            }\n\n            fragment MoneyFields on Money {\n                value\n            }\n        `;\n\n        return products;\n    }\n}\n\nexport default function YSWProductSetFactory(context) {\n    if (this instanceof YSWProductSet) {\n        this.context = context;\n    } else {\n        return new YSWProductSet(context);\n    }\n}\n"],"names":["YSWHome","context","this","isMobileFeatureCarouselInitialized","init","prototype","YSWProductSetFactory","document","querySelectorAll","forEach","tabContent","tabs","contents","t","classList","remove","content","dataset","tabTitle","add","tab","addEventListener","e","band","currentTarget","contains","tabAlways","window","innerWidth","Home","_PageManager","apply","arguments","onReady","YSWHomeFactory","PageManager","YSWProductSet","products","_proto","length","getProducts","_this","graphqlToken","theme_settings","sf_tk","fetch","method","headers","Authorization","body","JSON","stringify","query","getGraphqlData","then","res","json","data","site","Object","values","item","edges","element","push","node","index","cardRender","err","Error","getIds","ids","Number","productId","product","id","entityId","name","url","path","sku","priceOur","prices","price","value","priceList","basePrice","cards","Array","from","card","title","querySelector","productTitle","textContent","innerHTML","urls","productUrl","href","productName","productPrice","map","filter","indexOf","range","Math","ceil","queries","i","slice"],"sourceRoot":""}